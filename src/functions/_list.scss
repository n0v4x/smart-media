@function push($list, $items...) {
  $result: $list;
  $separator: list-separator($list);

  @each $item in $items {
    $result: append($result, $item, $separator);
  }

  @return $result;
}

@function pop($list) {
  $result: ();
  $separator: list-separator($list);

  @if length($list) > 1 {
    @for $i from 1 through length($list) - 1 {
      $result: append($result, nth($list, $i), $separator);
    }
  }

  @return $result;
}

@function remove-last($list) {
  $result: ();
  $separator: list-separator($list);

  @if length($list) > 1 {
    @for $i from 1 through length($list) - 1 {
      $result: append($result, nth($list, $i), $separator);
    }
  }

  @return $result;
}

@function last($list) {
  $last-index: length($list);

  @if $last-index < 1 {
    @return null;
  }

  @return nth($list, $last-index);
}

@function reverse($list) {
  $result: ();
  $list-length: length($list);
  $separator: list-separator($list);

  @if $list-length > 1 {
    @for $i from $list-length through 1 {
      $result: append($result, nth($list, $i), $separator);
    }
  } @else {
    $result: $list;
  }

  @return $result;
}

@function is-contain-list($list) {
  @each $list-item in $list {
    @if type-of($list-item) == "list" {
      @return true;
    }
  }

  @return false;
}

@function flat($list) {
  $result: ();
  $separator: list-separator($list);

  @each $list-item in $list {
    @if type-of($list-item) == "list" {
      $result: join($result, $list-item, $separator);
    } @else {
      $result: append($result, $list-item, $separator);
    }
  }

  @return $result;
}
